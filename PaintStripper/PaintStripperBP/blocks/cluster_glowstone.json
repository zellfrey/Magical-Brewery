{
    "format_version": "1.20.80",
    "minecraft:block": {
      "description": {
        "identifier": "ps:cluster_glowstone",
        "menu_category": {
            "category": "none",
            "is_hidden_in_commands": true
        },
        "traits": {
          "minecraft:placement_position": {
            "enabled_states": ["minecraft:block_face"]
          }
        },
        "states": {
          "ps:crystal_stage": [1,2,3,4]
        }
    },
    "components": {
        "minecraft:custom_components": ["ps:bop_cluster_glowstone", "ps:opd_loot_cluster"],
        "minecraft:friction": 0.4,
        "minecraft:geometry": "minecraft:geometry.cross"
    },
    "permutations": [
        {
            "condition": "query.block_state('minecraft:block_face') == 'north'",
            "components": {
            "minecraft:transformation": { "rotation": [-90, 0, 0] }
            }
        },
        {
            "condition": "query.block_state('minecraft:block_face') == 'south'",
            "components": {
                "minecraft:transformation": { "rotation": [90, 0, 0] }
            }
        },
        {
            "condition": "query.block_state('minecraft:block_face') == 'west'",
            "components": {
            "minecraft:transformation": { "rotation": [0, 0, 90] }
            }
        },
        {
            "condition": "query.block_state('minecraft:block_face') == 'east'",
            "components": {
                "minecraft:transformation": { "rotation": [0, 0, -90] }
            }
        },
        {
            "condition": "query.block_state('minecraft:block_face') == 'up'",
            "components": {
            "minecraft:transformation": { "rotation": [0, 0, 0] }
            }
        },
        {
            "condition": "query.block_state('minecraft:block_face') == 'down'",
            "components": {
                "minecraft:transformation": { "rotation": [-180, 0, 0] }
            }
        },
        {
            "condition": "query.block_state('ps:crystal_stage') == 1",
            "components": {
                "minecraft:loot": "loot_tables/blocks/crystals/small_glowstone_bud.json",
                "minecraft:material_instances": {
                    "*": {
                    "texture": "small_glowstone_bud",
                    "render_method": "alpha_test",
                    "face_dimming": false,
                    "ambient_occlusion": false
                    }
                },
                "minecraft:collision_box": {
                    "origin": [-4, 0, -4],
                    "size": [8, 3, 8]
                },
                "minecraft:selection_box": {
                    "origin": [-4.0, 0.0, -4.0],
                    "size": [8.0, 3.0, 8.0]
                }
            }
        },
        {
            "condition": "query.block_state('ps:crystal_stage') == 2",
            "components": {
                "minecraft:material_instances": {
                    "*": {
                    "texture": "medium_glowstone_bud",
                    "render_method": "alpha_test",
                    "face_dimming": false,
                    "ambient_occlusion": false
                    }
                },
                "minecraft:collision_box": {
                    "origin": [-5, 0, -5],
                    "size": [10, 4, 10]
                },
                "minecraft:selection_box": {
                    "origin": [-5.0, 0.0, -5.0],
                    "size": [10.0, 4.0, 10.0]
                }
            }
        },
        {
            "condition": "query.block_state('ps:crystal_stage') == 3",
            "components": {
                "minecraft:material_instances": {
                    "*": {
                    "texture": "large_glowstone_bud",
                    "render_method": "alpha_test",
                    "face_dimming": false,
                    "ambient_occlusion": false
                    }
                },
                "minecraft:collision_box": {
                    "origin": [-5, 0, -5],
                    "size": [10, 5, 10]
                },
                "minecraft:selection_box": {
                    "origin": [-5.0, 0.0, -5.0],
                    "size": [10.0, 5.0, 10.0]
                }
            }
        },
        {
            "condition": "query.block_state('ps:crystal_stage') == 4",
            "components": {
                "minecraft:material_instances": {
                    "*": {
                    "texture": "glowstone_cluster",
                    "render_method": "alpha_test",
                    "face_dimming": false,
                    "ambient_occlusion": false
                    }
                },
                "minecraft:collision_box": {
                    "origin": [-5, 0, -5],
                    "size": [10, 7, 10]
                },
                "minecraft:selection_box": {
                    "origin": [-5.0, 0.0, -5.0],
                    "size": [10.0, 7.0, 10.0]
                }
            }
        }
      ]
    }
}