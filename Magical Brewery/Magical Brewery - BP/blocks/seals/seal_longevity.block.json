{
    "format_version": "1.21.100",
    "minecraft:block": {
        "description": {
            "identifier": "magical_brewery:seal_longevity",
            "menu_category": {
                "category": "none",
                "is_hidden_in_commands": true
            },
            "traits": {
                "minecraft:placement_position": {
                    "enabled_states": ["minecraft:block_face"]
                }
            },
            "states": {
                "magical_brewery:seal_level":[1,2,3]
            }   
        },
        "components": {
            "magical_brewery:bop_seal": {},
            "tag:magical_brewery:seal": {},
            "tag:magical_brewery:longevity":{},
            "minecraft:friction": 0.4,
            "minecraft:loot": "loot_tables/beardedflea/blocks/seals/seal_longevity_1.loot.json",
            "minecraft:geometry": "geometry.seal",
            "minecraft:material_instances": {
                "*": {
                        "texture": "magical_brewery:seal_longevity_1",
                        "render_method": "alpha_test",
                        "face_dimming": false,
                        "ambient_occlusion": false
                    }
            },
            "minecraft:destructible_by_mining": {
                "seconds_to_destroy": 0.3
            },
            "minecraft:destructible_by_explosion": {
                "explosion_resistance": 1.5
            },
            "minecraft:liquid_detection": {
            "detection_rules": [
                    {
                        "liquid_type": "water",
                        "on_liquid_touches": "popped",
                        "can_contain_liquid": false
                    }
                ]
            },
            "minecraft:collision_box": false,
            "minecraft:selection_box": {
                "origin": [-6.5, 1.5, -8],
                "size": [13, 13, 1.0]
            },
            "minecraft:placement_filter": {
                "conditions": [
                    {
                    "allowed_faces": ["side"],
                    "block_filter": [
                        {
                            "tags": "q.any_tag('magical_brewery:cask')"
                        }
                    ]
                    }
                ]
            },
			"minecraft:movable": {
				"movement_type": "popped"
			}
        },
        "permutations": [
            {
                "condition": "query.block_state('minecraft:block_face') == 'north'",
                "components": {
                    "minecraft:placement_filter": {
						"conditions": [
							{
							"allowed_faces": ["north"],
							"block_filter": [
								{
									"tags": "q.any_tag('magical_brewery:cask')"
								}
							]
							}
						]
					},
                    "minecraft:transformation": { 
                        "rotation": [0, 180, 0],
                        "scale": [0.6, 0.6, 1]
                    }
                }
            },
            {
                "condition": "query.block_state('minecraft:block_face') == 'south'",
                "components": {
                    "minecraft:placement_filter": {
						"conditions": [
							{
							"allowed_faces": ["south"],
							"block_filter": [
								{
									"tags": "q.any_tag('magical_brewery:cask')"
								}
							]
							}
						]
					},
                    "minecraft:transformation": { 
                        "rotation": [0, 0, 0],
                        "scale": [0.6, 0.6, 1]
                    }
                }
            },
            {
                "condition": "query.block_state('minecraft:block_face') == 'west'",
                "components": {
                    "minecraft:placement_filter": {
						"conditions": [
							{
							"allowed_faces": ["west"],
							"block_filter": [
								{
									"tags": "q.any_tag('magical_brewery:cask')"
								}
							]
							}
						]
					},
                    "minecraft:transformation": { 
                        "rotation": [0, -90, 0],
                        "scale": [0.6, 0.6, 1]
                    }
                }
            },
            {
                "condition": "query.block_state('minecraft:block_face') == 'east'",
                "components": {
                    "minecraft:placement_filter": {
						"conditions": [
							{
							"allowed_faces": ["east"],
							"block_filter": [
								{
									"tags": "q.any_tag('magical_brewery:cask')"
								}
							]
							}
						]
					},
                    "minecraft:transformation": { 
                        "rotation": [0, 90, 0],
                        "scale": [0.6, 0.6, 1]
                    }
                }
            },
            {
                "condition": "q.block_state('magical_brewery:seal_level') == 2",
                "components": {
                    "minecraft:loot": "loot_tables/beardedflea/blocks/seals/seal_longevity_2.loot.json",
                    "minecraft:material_instances": {
                        "*": {
                                "texture": "magical_brewery:seal_longevity_2",
                                "render_method": "alpha_test",
                                "face_dimming": false,
                                "ambient_occlusion": false
                            }
                    }
                }
            }
        ]
    }
}